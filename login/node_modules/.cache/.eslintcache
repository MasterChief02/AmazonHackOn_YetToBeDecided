[{"/mnt/ntfs/Projects/Hackathon/AmazonHackOn_YetToBeDecided/login/src/index.js":"1","/mnt/ntfs/Projects/Hackathon/AmazonHackOn_YetToBeDecided/login/src/App.js":"2","/mnt/ntfs/Projects/Hackathon/AmazonHackOn_YetToBeDecided/login/src/reportWebVitals.js":"3","/mnt/ntfs/Projects/Hackathon/AmazonHackOn_YetToBeDecided/login/src/components/LoginForm.js":"4","/mnt/ntfs/Projects/Hackathon/AmazonHackOn_YetToBeDecided/login/src/components/PaymentPortal/PaymentPortal.js":"5","/mnt/ntfs/Projects/Hackathon/AmazonHackOn_YetToBeDecided/login/src/components/Webcam.js":"6"},{"size":535,"mtime":1659190507090,"results":"7","hashOfConfig":"8"},{"size":3636,"mtime":1659191270186,"results":"9","hashOfConfig":"8"},{"size":362,"mtime":1659190507090,"results":"10","hashOfConfig":"8"},{"size":1778,"mtime":1659190507090,"results":"11","hashOfConfig":"8"},{"size":3876,"mtime":1659191254985,"results":"12","hashOfConfig":"8"},{"size":1263,"mtime":1659190507090,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","suppressedMessages":"16","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1rh8o5x",{"filePath":"17","messages":"18","suppressedMessages":"19","errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"20"},{"filePath":"21","messages":"22","suppressedMessages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","suppressedMessages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","suppressedMessages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30"},{"filePath":"31","messages":"32","suppressedMessages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/mnt/ntfs/Projects/Hackathon/AmazonHackOn_YetToBeDecided/login/src/index.js",[],[],"/mnt/ntfs/Projects/Hackathon/AmazonHackOn_YetToBeDecided/login/src/App.js",["34","35","36","37","38","39","40","41"],[],"import React,{useEffect, useState} from 'react';\nimport LoginForm from './components/LoginForm';\nimport PaymentPortal from './components/PaymentPortal/PaymentPortal';\n\n\nfunction useMouse(){\n  const [mousePosition, setMousePosition]=useState({\n    x:0,\n    y:0,\n    timestamp:0,\n    output:\"\"\n  })\n  useEffect(()=>{\n    function handle(e){\n      setMousePosition({\n        x: e.pageX,\n        y: e.pageY,\n        timestamp: Date.now(),\n        output: mousePosition.output + e.pageX.toString()+\",\"+e.pageY.toString()+\",\"+Date.now().toString() + \",\"\n      });\n    }\n    document.addEventListener(\"mousemove\",handle)\n    return ()=>  document.removeEventListener(\"mousemove\", handle)\n  })\n  return mousePosition\n}\n\n\nfunction editDistance(s1, s2) {\n  s1 = s1.toLowerCase();\n  s2 = s2.toLowerCase();\n\n  var costs = new Array();\n  for (var i = 0; i <= s1.length; i++) {\n    var lastValue = i;\n    for (var j = 0; j <= s2.length; j++) {\n      if (i === 0)\n        costs[j] = j;\n      else {\n        if (j > 0) {\n          var newValue = costs[j - 1];\n          if (s1.charAt(i - 1) !== s2.charAt(j - 1))\n            newValue = Math.min(Math.min(newValue, lastValue),\n              costs[j]) + 1;\n          costs[j - 1] = lastValue;\n          lastValue = newValue;\n        }\n      }\n    }\n    if (i > 0)\n      costs[s2.length] = lastValue;\n  }\n  return costs[s2.length];\n}\nfunction similarity(s1, s2) {\n  var longer = s1;\n  var shorter = s2;\n  if (s1.length < s2.length) {\n    longer = s2;\n    shorter = s1;\n  }\n  var longerLength = longer.length;\n  if (longerLength === 0) {\n    return 1.0;\n  }\n  return (longerLength - editDistance(longer, shorter)) / parseFloat(longerLength);\n}\n\nfunction App() {\n  const {x,y,timestamp,output}=useMouse();\n\n  const adminUser = {\n    name: \"Varun Parashar\",\n    userid: \"varun\",\n    password: \"varun\"\n  }\n  const [user,setUser]=useState({name:\"\",userid:\"\"});\n  const [error,setError]=useState(\"\");\n  const Login = details=> {\n    const requestOptions = {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        _userid: details.userid,\n        _password: details.password\n      }),\n    };\n    fetch(\"http://localhost:4000/\", requestOptions)\n      .then((res) => res.json())\n      .then((json) => {\n          console.log(json.response);\n          console.log(\"json response\")\n          if (json.response==10) {\n          setError(\"invalid\")\n          } else if (json.response==20) {\n          console.log(\"blocked\");\n          setError(\"blocked\")\n          }\n      });\n    console.log(details);\n    if(error===\"\"){\n    if(details.userid===adminUser.userid){\n      if(details.password===adminUser.password){\n      console.log(\"logged in\")\n      setUser({\n        name: adminUser.name,\n        userid: details.userid,\n      })\n      }\n      else if(similarity(details.password,adminUser.password)<0.5){\n        console.log(\"Warning\")\n        setError(\"invalid\")\n      }\n      else{\n        console.log(\"details do not match\")\n        setError(\"match\")\n      }\n  }\n\n    else{\n      console.log(\"details do not match\")\n      setError(\"match\")\n    }\n    }\n  }\n  const Logout = () => {\n    setUser({userid:\"\"});\n    setError(\"\")\n  }\n  return (\n    <div className=\"App\">\n      {(user.userid!==\"\")?(\n        <div className=\"welcome\">\n          <h2>\n          Welcome, <span>{user.name}</span>\n          </h2>\n          <button onClick={Logout}>Logout</button>\n          </div>\n      ):\n      ( <>\n        {/* <LoginForm Login={Login} error={error}/> */}\n        <PaymentPortal mouseText={output} />\n        </>\n      )}\n    </div>\n\n  );\n}\n\nexport default App;","/mnt/ntfs/Projects/Hackathon/AmazonHackOn_YetToBeDecided/login/src/reportWebVitals.js",[],[],"/mnt/ntfs/Projects/Hackathon/AmazonHackOn_YetToBeDecided/login/src/components/LoginForm.js",[],[],"/mnt/ntfs/Projects/Hackathon/AmazonHackOn_YetToBeDecided/login/src/components/PaymentPortal/PaymentPortal.js",["42","43","44","45","46"],[],"import React, {useRef, useEffect, useState} from 'react'\nimport styled from 'styled-components'\nimport Webcam from \"react-webcam\";\n\n\nfunction PaymentPortal({mouseText}) {\n    // Variables\n    const [details,setDetails]=useState({card_number:\"\",expiry_month:\"\", name:\"\", cvv:\"\", image:null});\n    const [showInvalid, setShowInvalid] = useState(false);\n    const [showUserBlocked, setShowUserBlocked] = useState(false);\n    const [paymentComplete, setPaymentComplete] = useState(false);\n\n    const [image, setImage] = useState(\"\");\n    const webcamRef = React.useRef(null);\n\n    // Functions\n    const capture = React.useCallback(\n        () => {\n          setImage(webcamRef.current.getScreenshot());\n        },\n        [webcamRef]\n      );\n\n    const payHandler = () => {\n        capture()\n        const requestOptions = {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({\n              _card_number: details.card_number,\n              _expiry_month: details.expiry_month,\n              _name: details.name,\n              _cvv: details.cvv,\n              _mouse_text: mouseText,\n              _image: image\n            }),\n          };\n          fetch(\"http://localhost:4000/\", requestOptions)\n            .then((res) => res.json())\n            .then((json) => {\n                console.log(json.response);\n                if (json.response==10) {\n                setShowInvalid(true);\n                setShowUserBlocked(false);\n                } else if (json.response==20) {\n                setShowInvalid(false);\n                setShowUserBlocked(true);\n                } else {\n                setPaymentComplete(true);\n                }\n            });\n    }\n\n    // UI Designs\n    const Form = styled.div`\n        border: black sold 2px;\n        background-color:rgba(0,0,0,0.3);\n    `\n    const InvalidMessage = styled.div`\n        color: #FFCE00\n    `\n    const UserBlocked = styled.div`\n        color: #FE4880\n    `\n    const FormEntry  = styled.div`\n        label {\n            display: block;\n        }\n        input {\n\n        }\n    `\n    const PayButton = styled.button``\n    const CancelButton = styled.button``\n\n\n  return (\n    <>\n    <Form>\n        {(showInvalid) ?\n        <>\n            <InvalidMessage>\n                Details do not match\n            </InvalidMessage>\n        </>:<>\n        </>}\n        {(showUserBlocked) ?\n        <>\n            <UserBlocked>\n                This card is blocked due to suspicious activities.\n                Please check your e-mail for further details.\n            </UserBlocked>\n        </>:<>\n        </>}\n        <FormEntry>\n            <label> Card Number </label>\n            <input type=\"number\" name=\"card_number\" id=\"card_number\" onChange={e => setDetails({...details,card_number:e.target.value})} value={details.card_number}/>\n        </FormEntry>\n        <FormEntry>\n            <label> Expiry Date </label>\n            <input type=\"month\" name=\"expiry_month\" id=\"expiry_month\" onChange={e => setDetails({...details,expiry_month:e.target.value})} value={details.expiry_month}/>\n        </FormEntry>\n        <FormEntry>\n            <label> Full Name </label>\n            <input type=\"text\" name=\"name\" id=\"name\" onChange={e => setDetails({...details,name:e.target.value})} value={details.name}/>\n        </FormEntry>\n        <FormEntry>\n            <label> CVV </label>\n            <input type=\"number\" name=\"cvv\" id=\"cvv\" onChange={e => setDetails({...details,cvv:e.target.value})} value={details.cvv}/>\n        </FormEntry>\n        <PayButton onClick={payHandler} >Pay Now</PayButton>\n        <CancelButton>Cancel</CancelButton>\n    </Form>\n    <Webcam\n        audio={false}\n        height={720}\n        ref={webcamRef}\n        screenshotFormat=\"image/jpeg\"\n        width={1080}\n      />\n    </>\n  )\n}\n\nexport default PaymentPortal","/mnt/ntfs/Projects/Hackathon/AmazonHackOn_YetToBeDecided/login/src/components/Webcam.js",[],[],{"ruleId":"47","severity":1,"message":"48","line":2,"column":8,"nodeType":"49","messageId":"50","endLine":2,"endColumn":17},{"ruleId":"51","severity":1,"message":"52","line":33,"column":15,"nodeType":"53","messageId":"54","endLine":33,"endColumn":26},{"ruleId":"47","severity":1,"message":"55","line":70,"column":10,"nodeType":"49","messageId":"50","endLine":70,"endColumn":11},{"ruleId":"47","severity":1,"message":"56","line":70,"column":12,"nodeType":"49","messageId":"50","endLine":70,"endColumn":13},{"ruleId":"47","severity":1,"message":"57","line":70,"column":14,"nodeType":"49","messageId":"50","endLine":70,"endColumn":23},{"ruleId":"47","severity":1,"message":"58","line":79,"column":9,"nodeType":"49","messageId":"50","endLine":79,"endColumn":14},{"ruleId":"59","severity":1,"message":"60","line":93,"column":28,"nodeType":"61","messageId":"62","endLine":93,"endColumn":30},{"ruleId":"59","severity":1,"message":"60","line":95,"column":35,"nodeType":"61","messageId":"62","endLine":95,"endColumn":37},{"ruleId":"47","severity":1,"message":"63","line":1,"column":16,"nodeType":"49","messageId":"50","endLine":1,"endColumn":22},{"ruleId":"47","severity":1,"message":"64","line":1,"column":24,"nodeType":"49","messageId":"50","endLine":1,"endColumn":33},{"ruleId":"47","severity":1,"message":"65","line":11,"column":12,"nodeType":"49","messageId":"50","endLine":11,"endColumn":27},{"ruleId":"59","severity":1,"message":"60","line":42,"column":34,"nodeType":"61","messageId":"62","endLine":42,"endColumn":36},{"ruleId":"59","severity":1,"message":"60","line":45,"column":41,"nodeType":"61","messageId":"62","endLine":45,"endColumn":43},"no-unused-vars","'LoginForm' is defined but never used.","Identifier","unusedVar","no-array-constructor","The array literal notation [] is preferable.","NewExpression","preferLiteral","'x' is assigned a value but never used.","'y' is assigned a value but never used.","'timestamp' is assigned a value but never used.","'Login' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'useRef' is defined but never used.","'useEffect' is defined but never used.","'paymentComplete' is assigned a value but never used."]